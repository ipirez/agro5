{"version":3,"file":"helpers.js","sourceRoot":"","sources":["../../src/lib/helpers.ts"],"names":[],"mappings":";;;;AAAA,OAAO,EAAE,SAAS,EAAE,KAAK,EAAE,MAAM,EAAE,YAAY,EAAE,UAAU,EAAE,sBAAsB;;;wBAShD,IAAI,YAAY,EAAO;;;;;;IAItD,mCAAW;;;;IAAX,UAAY,KAAa;QACrB,EAAE,CAAC,CAAC,IAAI,CAAC,EAAE,KAAK,SAAS,CAAC,CAAC,CAAC;YACxB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SAC7B;QAAC,IAAI,CAAC,CAAC;YACJ,qBAAI,OAAO,GAAG,UAAU,CAAC,KAAK,CAAC,CAAA;YAC/B,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,OAAO,IAAI,CAAC,IAAI,OAAO,IAAI,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;gBACxD,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,OAAO,EAAE,EAAE,EAAE,IAAI,CAAC,EAAE,EAAE,CAAC,CAAC;aACnD;SACJ;KACJ;;gBApBJ,SAAS,SAAC;oBACP,QAAQ,EAAE,QAAQ;oBAClB,IAAI,EAAE;wBACF,SAAS,EAAE,kCAAkC;qBAChD;iBACJ;;;;;6BAEI,MAAM,SAAC,UAAU;yBACjB,KAAK,SAAC,MAAM;uBACZ,KAAK,SAAC,IAAI;;wBAXf;;SAQa,aAAa;;;;;;;;;;;;;;;;;;;IAkCtB,yBAAoB,EAAc;QAAlC,iBAGC;QAHmB,OAAE,GAAF,EAAE,CAAY;wBATH,IAAI,YAAY,EAAO;yBACrB,IAAI,YAAY,EAAE;uBACtB,IAAI,YAAY,EAAE;QAQ3C,IAAI,CAAC,YAAY,GAAG,UAAC,KAAU,IAAO,KAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAA,EAAE,CAAC;QACzD,IAAI,CAAC,YAAY,GAAG,cAAQ,KAAI,CAAC,IAAI,EAAE,CAAA,EAAE,CAAC;KAC7C;;;;;IAED,mCAAS;;;;IAAT,UAAU,KAAU;QAChB,qBAAI,MAAM,GAAG,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,YAAY,CAAC;QAChD,qBAAI,KAAK,GAAG,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,WAAW,CAAC;QAC9C,qBAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC;QACvD,qBAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC;QAExD,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,KAAK,SAAS,IAAI,IAAI,CAAC,GAAG,KAAK,SAAS,CAAC,CAAC,CAAC;YACnD,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,EAAE,GAAG,EAAE,IAAI,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;SAC3F;QAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,KAAK,SAAS,IAAI,IAAI,CAAC,GAAG,KAAK,SAAS,CAAC,CAAC,CAAC;;YAC1D,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,MAAM,EAAE,EAAE,EAAE,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;SACvD;QAAC,IAAI,CAAC,CAAC;YACJ,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,KAAK,EAAE,EAAE,EAAE,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;SACtD;KACJ;;;;;IAED,8BAAI;;;;IAAJ,UAAK,KAAU;QACX,KAAK,CAAC,cAAc,EAAE,CAAC;QACvB,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;KACzB;;;;;IAED,+BAAK;;;;IAAL,UAAM,KAAU;QACZ,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;QACtB,QAAQ,CAAC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;QAC1D,QAAQ,CAAC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;QAC1D,QAAQ,CAAC,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;QACxD,QAAQ,CAAC,gBAAgB,CAAC,UAAU,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;QACzD,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;KACzB;;;;IAED,8BAAI;;;IAAJ;QACI,QAAQ,CAAC,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;QAC7D,QAAQ,CAAC,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;QAC7D,QAAQ,CAAC,mBAAmB,CAAC,SAAS,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;QAC3D,QAAQ,CAAC,mBAAmB,CAAC,UAAU,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;QAC5D,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;KACvB;;;;;IAED,8BAAI;;;;IAAJ,UAAK,KAAU;QACX,MAAM,CAAC,CAAC,KAAK,CAAC,KAAK,KAAK,SAAS,GAAG,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,qBAAqB,EAAE,CAAC,IAAI,GAAG,MAAM,CAAC,WAAW,CAAC;KACvJ;;;;;IACD,8BAAI;;;;IAAJ,UAAK,KAAU;QACX,MAAM,CAAC,CAAC,KAAK,CAAC,KAAK,KAAK,SAAS,GAAG,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,qBAAqB,EAAE,CAAC,GAAG,GAAG,MAAM,CAAC,WAAW,CAAC;KACtJ;;gBAhEJ,SAAS,SAAC;oBACP,QAAQ,EAAE,UAAU;oBACpB,IAAI,EAAE;wBACF,aAAa,EAAE,eAAe;wBAC9B,cAAc,EAAE,eAAe;qBAClC;iBACJ;;;;gBA/BgD,UAAU;;;6BAiCtD,MAAM,SAAC,UAAU;8BACjB,MAAM,SAAC,WAAW;4BAClB,MAAM,SAAC,SAAS;2BAChB,KAAK,SAAC,QAAQ;wBACd,KAAK,SAAC,KAAK;wBACX,KAAK,SAAC,KAAK;;0BAtChB;;SAgCa,eAAe;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4D5B,IAAA;IACE,wBAAmB,CAAS,EAAS,CAAS,EAAS,CAAS,EAAS,CAAS;QAA/D,MAAC,GAAD,CAAC,CAAQ;QAAS,MAAC,GAAD,CAAC,CAAQ;QAAS,MAAC,GAAD,CAAC,CAAQ;QAAS,MAAC,GAAD,CAAC,CAAQ;KAAK;yBA7FzF;IA8FC,CAAA;AAFD,0BAEC;;;;;;;;;;;AAED,IAAA;IACE,yBAAmB,CAAS,EAAS,CAAS,EAAS,CAAS,EAAS,CAAS;QAA/D,MAAC,GAAD,CAAC,CAAQ;QAAS,MAAC,GAAD,CAAC,CAAQ;QAAS,MAAC,GAAD,CAAC,CAAQ;QAAS,MAAC,GAAD,CAAC,CAAQ;KAAK;0BAjGzF;IAkGC,CAAA;AAFD,2BAEC;;;;;;;;;;;;;;AAED,MAAM;IACJ,qBAAI,EAAE,GAAG,EAAE,CAAC;IAEZ,EAAE,CAAC,CAAC,OAAO,SAAS,KAAK,WAAW,CAAC,CAAC,CAAC;QACrC,EAAE,GAAG,SAAS,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC;KACxC;IAED,qBAAM,IAAI,GAAG,EAAE,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;IAEjC,EAAE,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC;;QAEb,MAAM,CAAC,QAAQ,CAAC,EAAE,CAAC,SAAS,CAAC,IAAI,GAAG,CAAC,EAAE,EAAE,CAAC,OAAO,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;KACpE;;IAGD,MAAM,CAAC,KAAK,CAAC;CACd","sourcesContent":["import { Directive, Input, Output, EventEmitter, ElementRef } from '@angular/core';\n\n@Directive({\n    selector: '[text]',\n    host: {\n        '(input)': 'changeInput($event.target.value)'\n    }\n})\nexport class TextDirective {\n    @Output('newValue') newValue = new EventEmitter<any>();\n    @Input('text') text: any;\n    @Input('rg') rg: number;\n\n    changeInput(value: string) {\n        if (this.rg === undefined) {\n            this.newValue.emit(value);\n        } else {\n            let numeric = parseFloat(value)\n            if (!isNaN(numeric) && numeric >= 0 && numeric <= this.rg) {\n                this.newValue.emit({ v: numeric, rg: this.rg });\n            }\n        }\n    }\n}\n\n@Directive({\n    selector: '[slider]',\n    host: {\n        '(mousedown)': 'start($event)',\n        '(touchstart)': 'start($event)'\n    }\n})\nexport class SliderDirective {\n    @Output('newValue') newValue = new EventEmitter<any>();\n    @Output('dragStart') dragStart = new EventEmitter();\n    @Output('dragEnd') dragEnd = new EventEmitter();\n    @Input('slider') slider: string;\n    @Input('rgX') rgX: number;\n    @Input('rgY') rgY: number;\n    private listenerMove: any;\n    private listenerStop: any;\n\n    constructor(private el: ElementRef) {\n        this.listenerMove = (event: any) => { this.move(event) };\n        this.listenerStop = () => { this.stop() };\n    }\n\n    setCursor(event: any) {\n        let height = this.el.nativeElement.offsetHeight;\n        let width = this.el.nativeElement.offsetWidth;\n        let x = Math.max(0, Math.min(this.getX(event), width));\n        let y = Math.max(0, Math.min(this.getY(event), height));\n\n        if (this.rgX !== undefined && this.rgY !== undefined) {\n            this.newValue.emit({ s: x / width, v: (1 - y / height), rgX: this.rgX, rgY: this.rgY });\n        } else if (this.rgX === undefined && this.rgY !== undefined) {//ready to use vertical sliders\n            this.newValue.emit({ v: y / height, rg: this.rgY });\n        } else {\n            this.newValue.emit({ v: x / width, rg: this.rgX });\n        }\n    }\n\n    move(event: any) {\n        event.preventDefault();\n        this.setCursor(event);\n    }\n\n    start(event: any) {\n        this.setCursor(event);\n        document.addEventListener('mousemove', this.listenerMove);\n        document.addEventListener('touchmove', this.listenerMove);\n        document.addEventListener('mouseup', this.listenerStop);\n        document.addEventListener('touchend', this.listenerStop);\n        this.dragStart.emit();\n    }\n\n    stop() {\n        document.removeEventListener('mousemove', this.listenerMove);\n        document.removeEventListener('touchmove', this.listenerMove);\n        document.removeEventListener('mouseup', this.listenerStop);\n        document.removeEventListener('touchend', this.listenerStop);\n        this.dragEnd.emit();\n    }\n\n    getX(event: any): number {\n        return (event.pageX !== undefined ? event.pageX : event.touches[0].pageX) - this.el.nativeElement.getBoundingClientRect().left - window.pageXOffset;\n    }\n    getY(event: any): number {\n        return (event.pageY !== undefined ? event.pageY : event.touches[0].pageY) - this.el.nativeElement.getBoundingClientRect().top - window.pageYOffset;\n    }\n}\n\nexport class SliderPosition {\n  constructor(public h: number, public s: number, public v: number, public a: number) { }\n}\n\nexport class SliderDimension {\n  constructor(public h: number, public s: number, public v: number, public a: number) { }\n}\n\nexport function detectIE() {\n  let ua = '';\n\n  if (typeof navigator !== \"undefined\") {\n    ua = navigator.userAgent.toLowerCase();\n  }\n\n  const msie = ua.indexOf('msie ');\n\n  if (msie > 0) {\n    // IE 10 or older => return version number\n    return parseInt(ua.substring(msie + 5, ua.indexOf('.', msie)), 10);\n  }\n\n  // other browser\n  return false;\n}\n"]}